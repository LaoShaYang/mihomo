u: &u { type: url-test, tolerance: 1, strategy: consistent-hashing, url: https://www.gstatic.com/generate_204, interval: 300, lazy: true, timeout: 5000, max-failed-times: 5, include-all: true }
domain_mrs: &domain_mrs { type: http, interval: 86400, behavior: domain, format: mrs, proxy: ğŸ¯å…¨çƒç›´è¿ }
ipcidr_mrs: &ipcidr_mrs { type: http, interval: 86400, behavior: ipcidr, format: mrs, proxy: ğŸ¯å…¨çƒç›´è¿ }
proxy: &proxy { type: select, include-all: true, proxies: [ğŸš€å…¨çƒä»£ç†, ğŸ¯å…¨çƒç›´è¿, â™»ï¸è‡ªåŠ¨é€‰æ‹©, âš¡ï¸å‡è¡¡è´Ÿè½½, ğŸ”¯æ•…éšœè½¬ç§», ğŸ‡­ğŸ‡°é¦™æ¸¯è‡ªåŠ¨, ğŸ‡¹ğŸ‡¼å°æ¹¾è‡ªåŠ¨, ğŸ‡¸ğŸ‡¬æ–°åŠ å¡è‡ªåŠ¨, ğŸ‡¯ğŸ‡µæ—¥æœ¬è‡ªåŠ¨, ğŸ‡°ğŸ‡·éŸ©å›½è‡ªåŠ¨, ğŸ‡ºğŸ‡¸ç¾å›½è‡ªåŠ¨] }
direct: &direct { type: select, include-all: true, proxies: [ğŸ¯å…¨çƒç›´è¿, ğŸš€å…¨çƒä»£ç†, â™»ï¸è‡ªåŠ¨é€‰æ‹©, âš¡ï¸å‡è¡¡è´Ÿè½½, ğŸ”¯æ•…éšœè½¬ç§», ğŸ‡­ğŸ‡°é¦™æ¸¯è‡ªåŠ¨, ğŸ‡¹ğŸ‡¼å°æ¹¾è‡ªåŠ¨, ğŸ‡¸ğŸ‡¬æ–°åŠ å¡è‡ªåŠ¨, ğŸ‡¯ğŸ‡µæ—¥æœ¬è‡ªåŠ¨, ğŸ‡°ğŸ‡·éŸ©å›½è‡ªåŠ¨, ğŸ‡ºğŸ‡¸ç¾å›½è‡ªåŠ¨] }


proxy-groups:
  - { name: ğŸš€é»˜è®¤ä»£ç†, type: select, proxies: [â™»ï¸è‡ªåŠ¨é€‰æ‹©, ğŸŸ¢æ‰‹åŠ¨é€‰æ‹©, âš¡ï¸å‡è¡¡è´Ÿè½½, ğŸ”¯æ•…éšœè½¬ç§», ğŸ¯å…¨å±€ç›´è¿] }
  - { name: â™»ï¸è‡ªåŠ¨é€‰æ‹©, <<: *u, tolerance: 1, type: url-test }
  - { name: ğŸŸ¢æ‰‹åŠ¨é€‰æ‹©, <<: *u, type: select }
  - { name: âš¡ï¸å‡è¡¡è´Ÿè½½, <<: *u, strategy: round-robin, type: load-balance }
  - { name: ğŸ”¯æ•…éšœè½¬ç§», <<: *u, type: fallback }
  - { name: ğŸ¯å…¨å±€ç›´è¿, type: select, hidden: true, proxies: [DIRECT] }
  - { name: ğŸ¯å…¨çƒç›´è¿, type: select, proxies: [ğŸ¯å…¨å±€ç›´è¿, ğŸš€é»˜è®¤ä»£ç†] }
  - { name: Google, <<: *proxy, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/Google.webp }
  - { name: Telegram, <<: *proxy, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/Telegram.webp }
  - { name: Twitter, <<: *proxy, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/Twitter.webp }
  - { name: OpenAI, <<: *direct, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/OpenAI.webp }
  - { name: Discord, <<: *proxy, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/Discord.webp }
  - { name: Microsoft, <<: *proxy, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/Microsoft.webp }
  - { name: YouTube, <<: *proxy, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/YouTube.webp }
  - { name: NETFLIX, <<: *proxy, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/Netflix.webp }
  - { name: Spotify, <<: *proxy, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/Spotify.webp }
  - { name: Github, <<: *proxy, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/GitHub.webp }
  - { name: Twitch, <<: *proxy, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/Twitch.webp }
  - { name: Cloudflare, <<: *proxy, icon: https://cdn.jsdelivr.net/gh/LaoShaYang/picGO@main/Cloudflare.webp }

  ############ å…¨å›½å®¶åˆ†ç»„è‡ªåŠ¨é€‰æ‹© ############
  - { name: ğŸ‡­ğŸ‡°é¦™æ¸¯è‡ªåŠ¨, <<: *u, hidden: true, filter: "(?i)(?:ğŸ‡­ğŸ‡°|(?:^|[\\s_-])(HK)(?:(?=$|[\\s_-])|(?:[-_0-9]+(?=$|[\\s_-])))|(?:^|[\\s_-])[-_0-9]*HK(?=$|[\\s_-])|é¦™æ¸¯|Hong Kong|HongKong)" }
  - { name: ğŸ‡¹ğŸ‡¼å°æ¹¾è‡ªåŠ¨, <<: *u, hidden: true, filter: "(?i)(?:ğŸ‡¹ğŸ‡¼|(?:^|[\\s_-])(TW)(?:(?=$|[\\s_-])|(?:[-_0-9]+(?=$|[\\s_-])))|(?:^|[\\s_-])[-_0-9]*TW(?=$|[\\s_-])|å°æ¹¾|Taiwan|Tai wan)" }
  - { name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡è‡ªåŠ¨, <<: *u, hidden: true, filter: "(?i)(?:ğŸ‡¸ğŸ‡¬|(?:^|[\\s_-])(SG)(?:(?=$|[\\s_-])|(?:[-_0-9]+(?=$|[\\s_-])))|(?:^|[\\s_-])[-_0-9]*SG(?=$|[\\s_-])|æ–°åŠ å¡|Singapore)" }
  - { name: ğŸ‡¯ğŸ‡µæ—¥æœ¬è‡ªåŠ¨, <<: *u, hidden: true, filter: "(?i)(?:ğŸ‡¯ğŸ‡µ|(?:^|[\\s_-])(JP)(?:(?=$|[\\s_-])|(?:[-_0-9]+(?=$|[\\s_-])))|(?:^|[\\s_-])[-_0-9]*JP(?=$|[\\s_-])|æ—¥æœ¬|Japan)" }
  - { name: ğŸ‡°ğŸ‡·éŸ©å›½è‡ªåŠ¨, <<: *u, hidden: true, filter: "(?i)(?:ğŸ‡°ğŸ‡·|(?:^|[\\s_-])(KR)(?:(?=$|[\\s_-])|(?:[-_0-9]+(?=$|[\\s_-])))|(?:^|[\\s_-])[-_0-9]*KR(?=$|[\\s_-])|éŸ©å›½|Korea, Republic of)" }
  - { name: ğŸ‡ºğŸ‡¸ç¾å›½è‡ªåŠ¨, <<: *u, hidden: true, filter: "(?i)(?:ğŸ‡ºğŸ‡¸|(?:^|[\\s_-])(US)(?:(?=$|[\\s_-])|(?:[-_0-9]+(?=$|[\\s_-])))|(?:^|[\\s_-])[-_0-9]*US(?=$|[\\s_-])|ç¾å›½|United States|(?:(?:^|[\\s_-])CT(?=$|[\\s_-]))|UnitedStates)" }

rules:
  - SUB-RULE,(OR,((NETWORK,UDP),(NETWORK,TCP))),SUB-RULES
  - MATCH,ğŸš€é»˜è®¤ä»£ç†

sub-rules:
  SUB-RULES:
    - RULE-SET,github_domain,Github
    - RULE-SET,twitter_domain,Twitter
    - RULE-SET,youtube_domain,YouTube
    - RULE-SET,google_domain,Google
    - RULE-SET,telegram_domain,Telegram
    - RULE-SET,netflix_domain,NETFLIX
    - RULE-SET,OpenAI_domain,OpenAI
    - RULE-SET,Discord_domain,Discord
    - RULE-SET,Microsoft_domain,Microsoft
    - RULE-SET,spotify_domain,Spotify
    - RULE-SET,Twitch_domain,Twitch
    - RULE-SET,Cloudflare_domain,Cloudflare
    - RULE-SET,geolocation-!cn,ğŸš€é»˜è®¤ä»£ç†
    - RULE-SET,netflix_ip,NETFLIX,no-resolve
    - RULE-SET,telegram_ip,Telegram,no-resolve
    - RULE-SET,twitter_ip,Twitter,no-resolve
    - OR,((AND,((RULE-SET,cn_domain),(RULE-SET,cn_ip))),(RULE-SET,cn_ip),(RULE-SET,private_domain),(RULE-SET,private_ip,no-resolve)),ğŸ¯å…¨çƒç›´è¿

rule-providers:
  cn_domain:
    <<: *domain_mrs
    url: "https://jsd.onmicrosoft.cn/gh/Kwisma/clash-rules@release/direct.mrs"
    path: ./ruleset/CN_Domain.mrs
  cn_ip:
    <<: *ipcidr_mrs
    url: "https://jsd.onmicrosoft.cn/gh/Kwisma/clash-rules@release/cncidr.mrs"
    path: ./ruleset/CN_IP.mrs
  private_domain:
    <<: *domain_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/private.mrs"
    path: ./ruleset/Private_Domain.mrs
  private_ip:
    <<: *ipcidr_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/private.mrs"
    path: ./ruleset/Private_IP.mrs
  github_domain:
    <<: *domain_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/github.mrs"
    path: ./ruleset/github_domain.mrs
  twitter_domain:
    <<: *domain_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/twitter.mrs"
    path: ./ruleset/twitter_domain.mrs
  youtube_domain:
    <<: *domain_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/youtube.mrs"
    path: ./ruleset/youtube_domain.mrs
  google_domain:
    <<: *domain_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/google.mrs"
    path: ./ruleset/google_domain.mrs
  telegram_domain:
    <<: *domain_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/telegram.mrs"
    path: ./ruleset/telegram_domain.mrs
  netflix_domain:
    <<: *domain_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/netflix.mrs"
    path: ./ruleset/netflix_domain.mrs
  OpenAI_domain:
    <<: *domain_mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/openai.mrs"
    path: ./ruleset/OpenAI_domain.mrs
  Discord_domain:
    <<: *domain_mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/discord.mrs"
    path: ./ruleset/Discord_domain.mrs
  spotify_domain:
    <<: *domain_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/spotify.mrs"
    path: ./ruleset/spotify_domain.mrs
  Microsoft_domain:
    <<: *domain_mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/microsoft.mrs"
    path: ./ruleset/Microsoft_domain.mrs
  Twitch_domain:
    <<: *domain_mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/twitch.mrs"
    path: ./ruleset/Twitch_domain.mrs
  Cloudflare_domain:
    <<: *domain_mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geoip/cloudflare.mrs"
    path: ./ruleset/Cloudflare_domain.mrs
  geolocation-!cn:
    <<: *domain_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/geolocation-!cn.mrs"
    path: ./ruleset/geolocation-!cn.mrs 
  google_ip:
    <<: *ipcidr_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/google.mrs"
    path: ./ruleset/google_ip.mrs
  netflix_ip:
    <<: *ipcidr_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/netflix.mrs"
    path: ./ruleset/netflix_ip.mrs
  twitter_ip:
    <<: *ipcidr_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/twitter.mrs"
    path: ./ruleset/twitter_ip.mrs
  telegram_ip:
    <<: *ipcidr_mrs
    url: "https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/telegram.mrs"
    path: ./ruleset/telegram_ip.mrs
